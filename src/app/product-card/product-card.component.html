<div class="card h-100 shadow position-relative">
  <span
    class="bg-danger text-white p-1 pe-2 ps-2 rounded-3 d-inline position-absolute mt-2 me-2 end-0"
  >
    {{ product.discountPercentage }}% OFF
  </span>
  <img
    [src]="product.thumbnail"
    class="card-img-top pointer"
    [alt]="product.title"
    style="height: 250px"
    routerLink="product/{{ product.id }}"
  />
  <div class="card-body position-relative">
    <div class="d-flex justify-content-between mb-2">
      <span class="bg-primary text-white pe-2 ps-2 rounded-3">
        {{ product.price | currency : "EGP " }}
      </span>
      <span
        [ngClass]="product.stock ? 'text-success' : 'text-danger'"
        class="fw-bold"
      >
        ({{ product.stock }}) {{ product.stock | stock }}
      </span>
    </div>
    <h5 class="card-title pointer" routerLink="product/{{ product.id }}">
      {{ product.title }}
    </h5>
    <p class="card-text">
      {{ product.description }}
    </p>
  </div>
  <div class="d-flex justify-content-between p-3">
    <a class="fw-bold text-primary" routerLink="product/{{ product.id }}">
      Read More
    </a>
    <a
      class="p-0 ps-3 pe-3 btn btn-success rounded-5"
      (click)="addProductToCart()"
      *ngIf="!isInCart && product.stock"
      >Add to cart</a
    >
    <a class="p-0 ps-3 pe-3 btn btn-danger rounded-5" *ngIf="isInCart"
      >Added to cart</a
    >
  </div>
  <div class="card-footer justify-content-between d-flex">
    <small class="text-muted">
      {{ product.brand }}
    </small>
    <small class="text-muted fw-bold"> {{ product.category }} </small>
  </div>
</div>
